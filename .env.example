# =============================================================================
# MCQ APP - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control!

# =============================================================================
# DATABASE (Required)
# =============================================================================
DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require"

# =============================================================================
# NEXTAUTH CONFIGURATION (Required)
# =============================================================================
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-super-secret-key-change-this-in-production-min-32-chars"

# =============================================================================
# GOOGLE OAUTH (Required)
# =============================================================================
# Get these from https://console.cloud.google.com/apis/credentials
# 1. Create a new project or select existing
# 2. Go to "Credentials" > "Create Credentials" > "OAuth client ID"
# 3. Select "Web application"
# 4. Add authorized redirect URI: http://localhost:3000/api/auth/callback/google
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# =============================================================================
# PADDLE PAYMENT GATEWAY - SANDBOX CONFIGURATION
# =============================================================================
# Get these from https://sandbox-vendors.paddle.com/ (Sandbox)
# Or https://vendors.paddle.com/ (Production)
#
# SETUP STEPS FOR PADDLE SANDBOX:
# --------------------------------
# 1. Create account at https://sandbox-vendors.paddle.com/
# 2. Go to Developer Tools > Authentication
# 3. Generate API Key - copy to PADDLE_API_KEY below
# 4. Create Products & Prices:
#    a. Go to Catalog > Products
#    b. Create "One-Time Exam" product (one-time price: $1.99)
#    c. Create "Pro Monthly" product (recurring monthly: $11.99)
#    d. Create "Pro Yearly" product (recurring yearly: $99.00)
#    e. Copy each Price ID (starts with "pri_") to variables below
# 5. Set up Webhook:
#    a. Go to Developer Tools > Notifications
#    b. Add new destination with your webhook URL:
#       - Development: Use ngrok (https://your-tunnel.ngrok.io/api/webhooks/paddle)
#       - Production: https://yourdomain.com/api/webhooks/paddle
#    c. Select these events:
#       - transaction.completed
#       - subscription.created
#       - subscription.updated
#       - subscription.canceled
#       - subscription.paused
#       - subscription.resumed
#       - subscription.past_due
#       - subscription.activated
#    d. Copy the webhook secret to PADDLE_WEBHOOK_SECRET
# 6. Get Client-Side Token:
#    a. Go to Developer Tools > Authentication
#    b. Copy "Default Checkout Client-Side Token" to NEXT_PUBLIC_PADDLE_CLIENT_TOKEN

# Server-side API Key (keep secret!)
PADDLE_API_KEY="pdl_sbox_apikey_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Environment: "sandbox" for testing, "production" for live
PADDLE_ENVIRONMENT="sandbox"

# Webhook Secret for signature verification (from Paddle notification settings)
PADDLE_WEBHOOK_SECRET="pdl_ntfset_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Client-side token for Paddle.js (safe to expose)
NEXT_PUBLIC_PADDLE_CLIENT_TOKEN="test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Client-side environment flag
NEXT_PUBLIC_PADDLE_ENVIRONMENT="sandbox"

# =============================================================================
# PADDLE PRICE IDS
# =============================================================================
# Create these in your Paddle Dashboard under Catalog > Products
# Each product should have a price - copy the price ID (starts with "pri_")

# One-time exam purchase ($1.99) - Create as "one-time" price type
PADDLE_PRICE_ID_ONE_TIME="pri_01xxxxxxxxxxxxxxxxxxxxxx"

# Pro Monthly subscription ($11.99/month) - Create as "recurring" price type
PADDLE_PRICE_ID_PRO_MONTHLY="pri_01xxxxxxxxxxxxxxxxxxxxxx"

# Pro Yearly subscription ($99/year) - Create as "recurring" price type  
PADDLE_PRICE_ID_PRO_YEARLY="pri_01xxxxxxxxxxxxxxxxxxxxxx"

# Client-side price IDs (needed for subscription detection in checkout handler)
# These should match the server-side IDs above - exposed to browser for checkout validation
NEXT_PUBLIC_PADDLE_PRICE_ID_PRO_MONTHLY="pri_01xxxxxxxxxxxxxxxxxxxxxx"
NEXT_PUBLIC_PADDLE_PRICE_ID_PRO_YEARLY="pri_01xxxxxxxxxxxxxxxxxxxxxx"

# =============================================================================
# TESTING PADDLE SANDBOX
# =============================================================================
# Paddle provides its own sandbox environment for testing checkout
# and billing flows. There are no Stripe-style test card numbers.
#
# To test:
# 1) Set PADDLE_ENVIRONMENT="sandbox" in your env.
# 2) Use the Paddle dashboard or hosted checkout in sandbox.
# 3) Create prices/products in the Paddle Sandbox vendor account.
# 4) Complete payments using the sandbox checkout (no real charges).
#
# Docs:
# - Sandbox overview: https://developer.paddle.com/build/sandbox
# - Testing guide: https://developer.paddle.com/build/testing
# - Webhooks in sandbox: https://developer.paddle.com/webhooks

# =============================================================================
# DEPRECATED (kept for migration reference)
# =============================================================================
SESSION_SECRET="your-super-secret-session-key-change-this-in-production"
